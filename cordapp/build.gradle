plugins {
    id 'net.corda.plugins.cordapp'
//    id 'net.corda.plugins.cordapp-cpk'
    id 'net.corda.plugins.cordformation'
    id 'net.corda.plugins.quasar-utils'
}
apply from: "$rootDir/gradle/publish.gradle"

dependencies {
    // Switch these to `cordaProvided` when using `cordapp-cpk`.
    implementation project(":client:rpc")
    implementation project(":client:extensions-rpc")
    implementation project(":flows")
    implementation project(":core")
//    cordaProvided project(":client:rpc")
//    cordaProvided project(":client:extensions-rpc")
//    cordaProvided project(":flows")
//    cordaProvided project(":core")
    // Replicating a bug.
    implementation project(':testing:cordapps:data-persistence-sample:data-persistence-workflows')
    implementation project(':testing:cordapps:data-persistence-sample:data-persistence-contracts')

    // Switch these to `cordaRuntimeOnly` when using `cordapp-cpk`.
//    cordaRuntimeOnly project(path: ":osgi-framework-bootstrap", configuration: 'runtimeArtifacts')
//    cordaRuntimeOnly "org.slf4j:slf4j-simple:$slf4jVersion"
//    cordaRuntimeOnly project(":node-api")
    cordaRuntime project(path: ":osgi-framework-bootstrap", configuration: 'runtimeArtifacts')
    cordaRuntime "org.slf4j:slf4j-simple:$slf4jVersion"
}

cordapp {
    targetPlatformVersion 999
    minimumPlatformVersion 1
    workflow {
        name "Template Flows"
        vendor "Corda Open Source"
        licence "Apache License, Version 2.0"
        versionId 1
    }
}